<script>
    const scoreTable = {
        "player": 0,
        "computer": 0
    };

    console.log(simulateGame(5));

    function computerPlay() {
        let options = ['Rock', 'Paper', 'Scissors'];
        randomIndex = Math.floor(Math.random() * 3);
        return options[randomIndex];
    }

    function simulateRound(playerSelection, computerSelection) {
        playerSelection = playerSelection.toLowerCase();
        switch (playerSelection) {
            case 'rock':
                if (computerSelection === 'Paper') {
                    scoreTable["computer"]++;
                    console.log("You lose! Paper beats rock!");
                    break;
                } else if (computerSelection === 'Scissors') {
                    scoreTable["player"]++;
                    console.log("You win! Rock beats scissors!");
                    break;
                } else {
                    console.log("It's a tie! Rock can't beat rock!");
                    break;
                }
            case 'paper':
                if (computerSelection === 'Rock') {
                    scoreTable["player"]++;
                    console.log("You win! Paper beats rock!");
                    break;
                } else if (computerSelection === 'Scissors') {
                    scoreTable["computer"]++;
                    console.log("You lose! Scissors beats paper!");
                    break;
                } else {
                    console.log("It's a tie! Paper can't beat Paper!");
                    break;
                }
            case 'scissors':
                if (computerSelection === 'Rock') {
                    scoreTable["computer"]++;
                    console.log("You lose! Rock beats scissors!");
                    break;
                } else if (computerSelection === 'Paper') {
                    scoreTable["player"]++;
                    console.log("You win! Scissors beats paper!");
                    break;
                } else {
                    console.log("It's a tie! Scissors can't beat scissors!");
                    break;
                }
            default:
                console.log('Choose a valid option!');
                break;
        }
        return;

    }

    function simulateGame(rounds) {
        for (let round = 0; round < rounds; round++) {
            let player = prompt('Rock, Paper, or Scissors?');
            let computer = computerPlay();
            simulateRound(player, computer);
        }
        let finalScore = `${scoreTable['player']} - ${scoreTable['computer']}`;
        let winner = () => (scoreTable['player'] > scoreTable['computer']) ? `You win! Final score: ${finalScore}` : `You lose :( Final score: ${finalScore}`;
        return winner()
    }
</script>